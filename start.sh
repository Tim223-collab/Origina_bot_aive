#!/bin/bash

echo "========================================"
echo "  ü§ñ Telegram AI Bot"
echo "========================================"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ .env —Ñ–∞–π–ª–∞
if [ ! -f .env ]; then
    echo "‚ùå –§–∞–π–ª .env –Ω–µ –Ω–∞–π–¥–µ–Ω!"
    echo ""
    echo "–°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª:"
    echo "  1. cp .env.example .env"
    echo "  2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env"
    echo "  3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ start.sh —Å–Ω–æ–≤–∞"
    echo ""
    exit 1
fi

echo "‚úÖ –§–∞–π–ª .env –Ω–∞–π–¥–µ–Ω"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏..."
python3 test_config.py
if [ $? -ne 0 ]; then
    echo ""
    echo "‚ùå –û—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏!"
    echo "–ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞."
    echo ""
    exit 1
fi

echo ""
echo "========================================"
echo "  üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞..."
echo "========================================"
echo ""
echo "–ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏"
echo ""

python3 main.py

