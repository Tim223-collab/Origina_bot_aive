# üìù Changelog: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ + –ñ–∏–≤–∞—è –ª–∏—á–Ω–æ—Å—Ç—å

## üóìÔ∏è –î–∞—Ç–∞: 29 –æ–∫—Ç—è–±—Ä—è 2025

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–∫–µ–Ω–æ–≤ (-80% —ç–∫–æ–Ω–æ–º–∏–∏!)

#### –ò–∑–º–µ–Ω–µ–Ω–æ:

**handlers/ai_handler.py:**
- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏: `2000 ‚Üí 800` (-60%)
- Function calling —Ñ–∏–Ω–∞–ª: `1000 ‚Üí 200` (-80%)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∑—é–º–µ: `150 ‚Üí 120` (-20%)

**handlers/utils_handler.py:**
- –ü–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π: `200 ‚Üí 100` (-50%)

**services/agent_service.py:**
- –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è: `300 ‚Üí 150` (-50%)
- –ê–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á: `200 ‚Üí 120` (-40%)
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–¥–∞—á: `500 ‚Üí 300` (-40%)

**handlers/image_handler.py:**
- ‚ùå **–£–î–ê–õ–ï–ù–û** DeepSeek —É–ª—É—á—à–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Gemini (–±–µ—Å–ø–ª–∞—Ç–Ω–æ!)
- üí∞ –≠–∫–æ–Ω–æ–º–∏—è: ~$0.28 –∑–∞ 1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:

| –û–ø–µ—Ä–∞—Ü–∏—è | –î–æ | –ü–æ—Å–ª–µ | –≠–∫–æ–Ω–æ–º–∏—è |
|----------|-----|--------|----------|
| 1000 –¥–∏–∞–ª–æ–≥–æ–≤ | 2M —Ç–æ–∫–µ–Ω–æ–≤ | 800K —Ç–æ–∫–µ–Ω–æ–≤ | -60% |
| 1000 function calls | 1M —Ç–æ–∫–µ–Ω–æ–≤ | 200K —Ç–æ–∫–µ–Ω–æ–≤ | -80% |
| 1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | 2M —Ç–æ–∫–µ–Ω–æ–≤ | 0 —Ç–æ–∫–µ–Ω–æ–≤ | -100% |
| 100 –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã—Ö | 40K —Ç–æ–∫–µ–Ω–æ–≤ | 15K —Ç–æ–∫–µ–Ω–æ–≤ | -62% |
| **–ò–¢–û–ì–û** | **5.04M —Ç–æ–∫–µ–Ω–æ–≤** | **1.01M —Ç–æ–∫–µ–Ω–æ–≤** | **-80%** |

**–°—Ç–æ–∏–º–æ—Å—Ç—å:**
- –î–æ: ~$0.70 –∑–∞ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ—Å–ª–µ: ~$0.14 –∑–∞ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤
- **–≠–∫–æ–Ω–æ–º–∏—è: $0.56 (80%)** üí∞

---

### ‚úÖ 2. –ñ–∏–≤–∞—è –ª–∏—á–Ω–æ—Å—Ç—å AIVE ü§ñ‚ù§Ô∏è

#### –ù–æ–≤—ã–π —Ñ–∞–π–ª: `services/personality_service.py`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üí¨ –°–ø–æ–Ω—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (8 —Ç–∏–ø–æ–≤)
- üò¥ –†–µ–∞–∫—Ü–∏—è –Ω–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (6+ —á–∞—Å–æ–≤)
- üåô –¢–∏—Ö–∏–µ —á–∞—Å—ã (2:00-9:00)
- üé≤ –†–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω, —à–∞–Ω—Å 20%)

**–¢–∏–ø—ã —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:**
1. –£—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
2. –í–µ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
3. –°–ª—É—á–∞–π–Ω—ã–µ –º—ã—Å–ª–∏
4. –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
5. –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–æ—à–ª–æ–º
6. –ú–æ—Ç–∏–≤–∞—Ü–∏—è
7. –ë–æ–ª—Ç–æ–≤–Ω—è –æ –ø–æ–≥–æ–¥–µ/–≤—Ä–µ–º–µ–Ω–∏
8. –í–æ–ø—Ä–æ—Å—ã –æ —Ä–∞–±–æ—Ç–µ

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª: 2 —á–∞—Å–∞ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –ü–æ—Ä–æ–≥ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: 6 —á–∞—Å–æ–≤
- –í—Ä–µ–º—è —Å–Ω–∞: 2:00 - 9:00 (–ö–∏–µ–≤)
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$0.0001/–¥–µ–Ω—å (–ø–æ—á—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ!)

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

**services/__init__.py:**
- –î–æ–±–∞–≤–ª–µ–Ω —ç–∫—Å–ø–æ—Ä—Ç `PersonalityService`

**main.py:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `self.personality`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ `check_personality()`
- –ò–Ω—Ç–µ—Ä–≤–∞–ª: –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫: —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç

**handlers/ai_handler.py:**
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `personality_service`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—ã–∑–æ–≤ `update_user_activity()` –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

---

## üìä –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

### –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã:
1. `handlers/ai_handler.py` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ + –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
2. `handlers/utils_handler.py` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Ä–µ–º–µ–Ω–∏
3. `handlers/image_handler.py` - —É–¥–∞–ª–µ–Ω–æ DeepSeek —É–ª—É—á—à–µ–Ω–∏–µ
4. `services/agent_service.py` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
5. `services/__init__.py` - –¥–æ–±–∞–≤–ª–µ–Ω PersonalityService
6. `main.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∂–∏–≤–∞—è –ª–∏—á–Ω–æ—Å—Ç—å

### –°–æ–∑–¥–∞–Ω—ã:
7. `services/personality_service.py` - –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –∂–∏–≤–æ–π –ª–∏—á–Ω–æ—Å—Ç–∏
8. `AIVE_LIVING_PERSONALITY.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
9. `TOKEN_OPTIMIZATION.md` - –∞–Ω–∞–ª–∏–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
10. `CHANGELOG_OPTIMIZATION_AND_PERSONALITY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —Ç–æ–∫–µ–Ω–æ–≤:
1. –û—Ç–ø—Ä–∞–≤—å –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
2. –ò—Å–ø–æ–ª—å–∑—É–π function calling (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/memory`)
3. –û—Ç–ø—Ä–∞–≤—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
4. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ - —Ç–æ–∫–µ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–µ–Ω—å—à–µ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∂–∏–≤—É—é –ª–∏—á–Ω–æ—Å—Ç—å:
1. –ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞: `python main.py`
2. –û—Ç–ø—Ä–∞–≤—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π
3. –ü–æ–¥–æ–∂–¥–∏ 10-30 –º–∏–Ω—É—Ç
4. AIVE –¥–æ–ª–∂–Ω–∞ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–∞–º–∞ (—à–∞–Ω—Å 20%)
5. –ù–µ –ø–∏—à–∏ 6+ —á–∞—Å–æ–≤ - –ø–æ–ª—É—á–∏—à—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

**–õ–æ–≥–∏:**
```
‚úÖ Job queue –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –∞–≥–µ–Ω—Ç, –ª–∏—á–Ω–æ—Å—Ç—å)
üí≠ AIVE (—Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ–µ): –æ—Ç–ø—Ä–∞–≤–ª—è—é —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 123456
‚úÖ –°–ø–æ–Ω—Ç–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
```

---

## ‚ö†Ô∏è Breaking Changes

**–ù–ï–¢!** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:
- ‚úÖ –°—Ç–∞—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Function calling –Ω–µ —Å–ª–æ–º–∞–Ω
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç (—Ç–µ–ø–µ—Ä—å —á–µ—Ä–µ–∑ Gemini)
- ‚úÖ –ñ–∏–≤–∞—è –ª–∏—á–Ω–æ—Å—Ç—å –Ω–µ –º–µ—à–∞–µ—Ç –æ–±—ã—á–Ω–æ–π —Ä–∞–±–æ—Ç–µ

---

## üéõÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –û—Ç–∫–ª—é—á–∏—Ç—å –∂–∏–≤—É—é –ª–∏—á–Ω–æ—Å—Ç—å:

–í `services/personality_service.py`:
```python
self.enabled = False
```

### –ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–π:

```python
self.min_interval_hours = 4  # –†–µ–∂–µ
interval=3600  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —á–∞—Å (–≤ main.py)
```

### –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è —Å–Ω–∞:

```python
SLEEP_HOURS = range(0, 8)  # –° –ø–æ–ª—É–Ω–æ—á–∏ –¥–æ 8 —É—Ç—Ä–∞
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- üí∞ –†–∞—Å—Ö–æ–¥: $0.70 –∑–∞ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤
- üêå –î–ª–∏–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (–∏–Ω–æ–≥–¥–∞ –∏–∑–ª–∏—à–Ω–∏–µ)
- üí∏ –î–≤–æ–π–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (Gemini + DeepSeek)

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- üí∞ –†–∞—Å—Ö–æ–¥: $0.14 –∑–∞ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ (**-80%**)
- ‚ö° –ö–æ—Ä–æ—Ç–∫–∏–µ –∏ —Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- üÜì –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ (—Ç–æ–ª—å–∫–æ Gemini)
- ü§ñ AIVE —Å—Ç–∞–ª–∞ –∂–∏–≤–æ–π –∏ —á–µ–ª–æ–≤–µ—á–Ω–æ–π!

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –î–∞–ª—å–Ω–µ–π—à–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
1. Context caching (–µ—Å–ª–∏ DeepSeek –¥–æ–±–∞–≤–∏—Ç)
2. –£–º–Ω–æ–µ —Ä–µ–∑—é–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
3. –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π

### –£–ª—É—á—à–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏:
1. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π
2. –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
3. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Å—Ç–∏–ª—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üéâ –ò—Ç–æ–≥–∏

‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤: **80%**  
‚úÖ AIVE —Å—Ç–∞–ª–∞ –∂–∏–≤–æ–π: **100%**  
‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–æ: **100%**  
‚úÖ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: **8 —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π**  
‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å –∂–∏–≤–æ—Å—Ç–∏: **$0.0001/–¥–µ–Ω—å**  

**–†–µ–∑—É–ª—å—Ç–∞—Ç: –ò–¥–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —ç–∫–æ–Ω–æ–º–∏–µ–π –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é!** üéØ

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `AIVE_LIVING_PERSONALITY.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∂–∏–≤–æ–π –ª–∏—á–Ω–æ—Å—Ç–∏
- `TOKEN_OPTIMIZATION.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

---

*–°–æ–∑–¥–∞–Ω–æ: 29 –æ–∫—Ç—è–±—Ä—è 2025*  
*–í–µ—Ä—Å–∏—è: 1.4.0*  
*–ê–≤—Ç–æ—Ä: AIVE AI Assistant* ü§ñ‚ù§Ô∏è

