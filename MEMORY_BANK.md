# üß† Memory Bank - –ë–∞–Ω–∫ –ø–∞–º—è—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**–ù–∞–∑–≤–∞–Ω–∏–µ:** Telegram –ò–ò-–ë–æ—Ç (–õ–∏—á–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫)  
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** Timofey (@TT_gens)  
**–¶–µ–ª—å:** –õ–∏—á–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã, –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
bot/
‚îú‚îÄ‚îÄ main.py                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, TelegramBot –∫–ª–∞—Å—Å
‚îú‚îÄ‚îÄ config.py                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–≤–∞–ª–∏–¥–∞—Ü–∏—è .env)
‚îú‚îÄ‚îÄ database/                    # SQLite —Å–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ db.py                   # Database –∫–ª–∞—Å—Å (async)
‚îÇ   ‚îî‚îÄ‚îÄ models.py               # SQL —Å—Ö–µ–º—ã (6 —Ç–∞–±–ª–∏—Ü)
‚îú‚îÄ‚îÄ services/                    # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ ai_service.py           # AIService (DeepSeek API)
‚îÇ   ‚îú‚îÄ‚îÄ memory_service.py       # MemoryService (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ parser_service.py       # WorkSiteParser (Playwright)
‚îÇ   ‚îî‚îÄ‚îÄ extras_service.py       # ExtrasService (–ø–æ–≥–æ–¥–∞, –∫—É—Ä—Å—ã, –∏–≥—Ä—ã)
‚îú‚îÄ‚îÄ handlers/                    # Telegram –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ ai_handler.py           # AIHandler (–¥–∏–∞–ª–æ–≥–∏)
‚îÇ   ‚îú‚îÄ‚îÄ work_handler.py         # WorkHandler (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ utils_handler.py        # UtilsHandler (–ø–∞–º—è—Ç—å, –∑–∞–º–µ—Ç–∫–∏)
‚îÇ   ‚îî‚îÄ‚îÄ extras_handler.py       # ExtrasHandler (—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è)
‚îî‚îÄ‚îÄ data/bot.db                 # SQLite –±–∞–∑–∞
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã

1. **TelegramBot** (`main.py`)
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è handlers
   - Background job –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

2. **Database** (`database/db.py`)
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
   - 6 —Ç–∞–±–ª–∏—Ü: users, conversations, long_term_memory, notes, work_stats, reminders

3. **AIService** (`services/ai_service.py`)
   - DeepSeek API –∫–ª–∏–µ–Ω—Ç
   - –ú–µ—Ç–æ–¥—ã: chat(), chat_with_context(), summarize_text(), extract_facts()

4. **MemoryService** (`services/memory_service.py`)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–∞–º—è—Ç—å—é
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: personal, work, preferences, learning
   - –ú–µ—Ç–æ–¥—ã: remember_fact(), recall_facts(), forget_fact()

5. **WorkSiteParser** (`services/parser_service.py`)
   - Playwright –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
   - –õ–æ–≥–∏–Ω, –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
   - –ú–µ—Ç—Ä–∏–∫–∏: SFS, SCH, Only now

---

## üîë –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

```env
# –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
TELEGRAM_BOT_TOKEN=<—Ç–æ–∫–µ–Ω –æ—Ç @BotFather>
ALLOWED_USER_IDS=<ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Timofey>
DEEPSEEK_API_KEY=<–∫–ª—é—á —Å platform.deepseek.com>

# –†–∞–±–æ—á–∏–π —Å–∞–π—Ç (–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)
WORK_SITE_URL=<URL –∞–¥–º–∏–Ω–∫–∏>
WORK_SITE_USERNAME=<–ª–æ–≥–∏–Ω>
WORK_SITE_PASSWORD=<–ø–∞—Ä–æ–ª—å>

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
TIMEZONE=Europe/Moscow
MAX_CONTEXT_MESSAGES=20
```

---

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite)

### –¢–∞–±–ª–∏—Ü—ã

1. **users** - –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - user_id, username, first_name, last_name, created_at, last_active

2. **conversations** - –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
   - id, user_id, role (user/assistant), content, timestamp

3. **long_term_memory** - –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å
   - id, user_id, category, key, value, created_at, updated_at
   - UNIQUE(user_id, category, key)

4. **notes** - –∑–∞–º–µ—Ç–∫–∏
   - id, user_id, title, content, tags (JSON), created_at

5. **work_stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å —Å–∞–π—Ç–∞
   - id, user_id, date, total_records, total_sfs, total_sch, workers_data (JSON)

6. **reminders** - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
   - id, user_id, text, remind_at, created_at, completed

---

## üéØ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. –ò–ò –î–∏–∞–ª–æ–≥–∏ (AIHandler)

**–ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ DB ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ 
‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–º—è—Ç–∏ ‚Üí DeepSeek API ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ ‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞
```

**–ö–æ–º–∞–Ω–¥—ã:**
- –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí chat —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- `/clear` ‚Üí –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
- `/summarize` ‚Üí —Ä–µ–∑—é–º–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

### 2. –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ (MemoryService)

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:**
- `personal` - –ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `work` - —Ä–∞–±–æ—á–∏–µ –¥–∞–Ω–Ω—ã–µ
- `preferences` - –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
- `learning` - —á—Ç–æ –∏–∑—É—á–∞–µ—Ç

**–ö–æ–º–∞–Ω–¥—ã:**
- `/remember <category> <key> <value>` - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
- `/recall [category]` - –ø–æ–∫–∞–∑–∞—Ç—å
- `/forget <category> <key>` - —É–¥–∞–ª–∏—Ç—å

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ò–ò:**
- –ü–∞–º—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏

### 3. –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—á–µ–≥–æ —Å–∞–π—Ç–∞ (WorkHandler)

**–°–∞–π—Ç:** –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–∞–º–∏
- –ö–æ–º–∞–Ω–¥—ã: Velvet, Good Bunny
- –†–∞–±–æ—Ç–Ω–∏–∫–∏: Alina, Karina, Nika, Oleg, Slavik, Stazon, Timofey, Vlad
- –ú–µ—Ç—Ä–∏–∫–∏: SFS, Only now, SCH
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∫–∞–º-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤

**–ö–æ–º–∞–Ω–¥—ã:**
- `/stats [date]` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `/workers [team]` - —Å–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
- `/check <name>` - –¥–µ—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** Playwright (headless Chromium)

### 4. –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (UtilsHandler)

**–ó–∞–º–µ—Ç–∫–∏:**
- `/note <text>` - —Å–æ–∑–¥–∞—Ç—å
- `/notes [search]` - –ø–æ–∏—Å–∫
- `/delnote <id>` - —É–¥–∞–ª–∏—Ç—å

**–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:**
- `/remind <minutes> <text>` - —Å–æ–∑–¥–∞—Ç—å
- Background job –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç

### 5. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (ExtrasHandler)

**API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- –ü–æ–≥–æ–¥–∞: wttr.in
- –í–∞–ª—é—Ç—ã: cbr-xml-daily.ru (–¶–ë –†–§)
- –ö—Ä–∏–ø—Ç–∞: coinbase.com

**–ö–æ–º–∞–Ω–¥—ã:**
- `/weather [city]` - –ø–æ–≥–æ–¥–∞
- `/rates` - –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç
- `/crypto [symbol]` - —Ü–µ–Ω–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã

### 6. –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è (ExtrasHandler)

**–ö–æ–Ω—Ç–µ–Ω—Ç:**
- 15+ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤
- 8+ —à—É—Ç–æ–∫ –ø—Ä–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤
- 8+ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–∏—Ç–∞—Ç
- –°–æ–≤–µ—Ç—ã: productivity, health, coding

**–ö–æ–º–∞–Ω–¥—ã:**
- `/fact`, `/joke`, `/quote`, `/tips [category]`
- `/activity` (Bored API)
- `/dice [XdY]`, `/8ball <question>`, `/choose <–ê> –∏–ª–∏ <–ë>`

### 7. –°–∏—Å—Ç–µ–º–∞ (UtilsHandler)

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- CPU, RAM, –¥–∏—Å–∫ (psutil)
- –ê–ø—Ç–∞–π–º —Å–∏—Å—Ç–µ–º—ã

**–ö–æ–º–∞–Ω–¥–∞:**
- `/system` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ

---

## üîÑ –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –ò–ò –î–∏–∞–ª–æ–≥

```
User Message 
‚Üí db.add_message(user, "user", text)
‚Üí db.get_recent_messages(user, limit=20)
‚Üí memory.get_context_for_ai(user)
‚Üí ai.chat_with_context(message, context, system_prompt + memory)
‚Üí db.add_message(user, "assistant", response)
‚Üí send to Telegram
```

### –ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞

```
/stats command
‚Üí parser.login() (Playwright)
‚Üí parser.parse_statistics(date)
‚Üí extract: cards (totals), table rows (workers)
‚Üí db.save_work_stats(user, date, data)
‚Üí format message (top 5 workers)
‚Üí send to Telegram
```

### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

```
Background Job (–∫–∞–∂–¥—ã–µ 60 —Å–µ–∫)
‚Üí db.get_pending_reminders()
‚Üí filter: remind_at <= now AND completed = 0
‚Üí send via context.bot.send_message()
‚Üí db.complete_reminder(id)
```

---

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
- –í–µ—Å—å –∫–æ–¥ –Ω–∞ async/await
- aiosqlite –¥–ª—è –ë–î
- aiohttp –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- python-telegram-bot async –≤–µ—Ä—Å–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- Whitelist —á–µ—Ä–µ–∑ ALLOWED_USER_IDS
- –°–µ–∫—Ä–µ—Ç—ã –≤ .env (–Ω–µ –≤ git)
- .gitignore –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- Try/except –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ logging
- Graceful degradation

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (MAX_CONTEXT_MESSAGES=20)
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTP —Å–µ—Å—Å–∏–π
- Background jobs –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

---

## üìù –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (30+)

### –ò–ò (3)
- —Ç–µ–∫—Å—Ç, `/clear`, `/summarize`

### –ü–∞–º—è—Ç—å (3)
- `/remember`, `/recall`, `/forget`

### –ó–∞–º–µ—Ç–∫–∏ (3)
- `/note`, `/notes`, `/delnote`

### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (1)
- `/remind`

### –†–∞–±–æ—Ç–∞ (3)
- `/stats`, `/workers`, `/check`

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (3)
- `/weather`, `/rates`, `/crypto`

### –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è (5)
- `/fact`, `/joke`, `/quote`, `/activity`, `/tips`

### –ò–≥—Ä—ã (3)
- `/dice`, `/8ball`, `/choose`

### –°–∏—Å—Ç–µ–º–∞ (3)
- `/system`, `/help`, `/start`

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
python-telegram-bot==21.5  # Telegram API
playwright==1.48.0         # –ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
aiohttp==3.10.5           # HTTP –∫–ª–∏–µ–Ω—Ç
python-dotenv==1.0.1      # .env –ø–∞—Ä—Å–∏–Ω–≥
aiosqlite==0.20.0         # Async SQLite
psutil==6.0.0             # –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```

### Python –≤–µ—Ä—Å–∏—è
- –ú–∏–Ω–∏–º—É–º: 3.10+
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: async/await, type hints

---

## üöÄ DeepSeek API –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ú–æ–¥–µ–ª—å: `deepseek-chat` (non-thinking mode)
- API: https://api.deepseek.com
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: OpenAI SDK

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

1. **deepseek-reasoner** - thinking mode
   - –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á —Å —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è–º–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º—ã—à–ª–µ–Ω–∏—è

2. **Function Calling**
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π
   - –ú–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –±–æ—Ç–∞

3. **JSON Output**
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
   - –î–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö

4. **Context Caching**
   - –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–º—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
   - –î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤

5. **Streaming**
   - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞
   - –î–ª—è –ª—É—á—à–µ–≥–æ UX

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–∞–±–æ—á–∏–π —Å–∞–π—Ç (–∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞)
- –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 8
- –í—Å–µ–≥–æ SFS: 2806
- –í—Å–µ–≥–æ SCH: 262
- –ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: 8
- –ö–æ–º–∞–Ω–¥—ã: Good Bunny (–∑–µ–ª–µ–Ω—ã–π), Velvet (–∫—Ä–∞—Å–Ω—ã–π)

### –†–∞–±–æ—Ç–Ω–∏–∫–∏
- Alina (@helpmepleaseviinc) - Good Bunny
- Karina (@american_satan) - Good Bunny
- Nika (@vanyia194) - Good Bunny
- Oleg (@OlegMano) - Velvet
- Slavik (@polovin–∫oo) - Good Bunny
- Stazon (@Duh08) - Good Bunny
- Timofey (@TT_gens) - Good Bunny (—Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!)
- Vlad (@vladred24) - Good Bunny

---

## üí° –ò–¥–µ–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ
1. **Reasoning mode** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
2. **Function calling** –¥–ª—è –∫–æ–º–∞–Ω–¥
3. **Streaming** –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
4. **Context caching** –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ
1. –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (Whisper)
2. –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Vision)
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (DALL-E)
4. –ì—Ä–∞—Ñ–∏–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (matplotlib)
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ü–∞—Ä—Å–µ—Ä —Å–∞–π—Ç–∞** - –Ω—É–∂–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –ø–æ–¥ —Ä–µ–∞–ª—å–Ω—ã–π —Å–∞–π—Ç
2. **SQLite** - –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
3. **Polling** - –µ—Å—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏ (webhooks –±—ã—Å—Ç—Ä–µ–µ)
4. **–ü–∞–º—è—Ç—å** - —Ä–∞—Å—Ç–µ—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º (–Ω—É–∂–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –§–∞–π–ª—ã
- `START_HERE.txt` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- `QUICKSTART.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `EXAMPLES.md` - –ø—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
- `CHEATSHEET.md` - —à–ø–∞—Ä–≥–∞–ª–∫–∞
- `DEPLOY.md` - –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- `PROJECT_INFO.md` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–∞
- `OVERVIEW.md` - –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### –°–∫—Ä–∏–ø—Ç—ã
- `install.bat/sh` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- `start.bat/sh` - –∑–∞–ø—É—Å–∫
- `setup.py` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- `test_config.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞

---

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- 30+ –∫–æ–º–∞–Ω–¥
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

### üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è reasoning mode (deepseek-reasoner)
2. ‚úÖ JSON extraction —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
3. ‚úÖ –ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ /think
4. ‚è≥ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞ –ø–æ–¥ —Ä–µ–∞–ª—å–Ω—ã–π —Å–∞–π—Ç
5. ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±–æ–µ–≤—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
6. ‚è≥ Function calling –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
7. ‚è≥ Streaming –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

---

## üÜï –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (26.10.2025)

### üá∫üá¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ 1.2.0: –ö–Ω–æ–ø–æ—á–Ω–æ–µ –º–µ–Ω—é + –£–∫—Ä–∞–∏–Ω–∞!

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**

1. **üì± –ö–Ω–æ–ø–æ—á–Ω–æ–µ –º–µ–Ω—é (ReplyKeyboard)**
   - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å 8 –∫–Ω–æ–ø–∫–∞–º–∏
   - –ü–æ–¥–º–µ–Ω—é –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –ö–Ω–æ–ø–∫–∞ üè† –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
   - –§–∞–π–ª: `keyboards.py`
   - –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `handlers/menu_handler.py`

2. **üá∫üá¶ –ü–µ—Ä–µ–±–∞–∑–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –£–∫—Ä–∞–∏–Ω—É**
   - TIMEZONE: Europe/Kiev (–±—ã–ª–æ Europe/Moscow)
   - –ü—Ä–∏–º–µ—Ä—ã –≥–æ—Ä–æ–¥–æ–≤: –ö–∏—ó–≤, –•–∞—Ä–∫—ñ–≤, –û–¥–µ—Å–∞, –õ—å–≤—ñ–≤
   - –ò–ò –∑–Ω–∞–µ—Ç –æ –ª–æ–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

3. **üéØ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø**
   - /weather –ö–∏—ó–≤ - –∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é
   - /weather –•–∞—Ä–∫—ñ–≤ - –∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é
   - –ü–æ–¥–º–µ–Ω—é –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é:**
```
–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:
‚îú‚îÄ‚îÄ üí¨ –î–∏–∞–ª–æ–≥
‚îú‚îÄ‚îÄ üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Üí [/stats, /workers, /check]
‚îú‚îÄ‚îÄ üìù –ó–∞–º–µ—Ç–∫–∏ ‚Üí [/note, /notes, /remind]
‚îú‚îÄ‚îÄ üß† –ü–∞–º—è—Ç—å ‚Üí [/remember, /recall, /forget]
‚îú‚îÄ‚îÄ üå§ –ü–æ–≥–æ–¥–∞ ‚Üí [/weather –ö–∏—ó–≤, /weather –•–∞—Ä–∫—ñ–≤, /rates]
‚îú‚îÄ‚îÄ üí∞ –ö—É—Ä—Å—ã
‚îú‚îÄ‚îÄ üé≤ –ò–≥—Ä—ã ‚Üí [/joke, /quote, /fact, /dice, /8ball]
‚îî‚îÄ‚îÄ ‚ÑπÔ∏è –ü–æ–º–æ—â—å
```

---

### DeepSeek API - –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã!

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**

1. **Reasoning Mode** (deepseek-reasoner)
   - –ö–æ–º–∞–Ω–¥–∞ `/think` –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º—ã—à–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
   - –ú–µ—Ç–æ–¥—ã: `reasoning_chat()`, `analyze_with_reasoning()`

2. **JSON Output**
   - –ú–µ—Ç–æ–¥ `extract_json()` –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤
   - –î–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

3. **Function Calling** (–≥–æ—Ç–æ–≤–æ)
   - –ü–∞—Ä–∞–º–µ—Ç—Ä `functions` –≤ `chat()`
   - –î–ª—è –±—É–¥—É—â–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

4. **Context Caching** (–≤ API)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤

5. **Streaming** (–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ)
   - –ü–∞—Ä–∞–º–µ—Ç—Ä `stream=True`
   - –î–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π

**–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã AIService:**
```python
- reasoning_chat() - reasoning mode —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- extract_json() - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON –¥–∞–Ω–Ω—ã—Ö
- analyze_with_reasoning() - –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑
```

**–ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- `/think <–≤–æ–ø—Ä–æ—Å>` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç deepseek-reasoner

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `DEEPSEEK_FEATURES.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- [API Docs](https://api-docs.deepseek.com/)

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 26.10.2025  
**–í–µ—Ä—Å–∏—è:** 1.2.0  
**–°—Ç–∞—Ç—É—Å:** Production Ready üöÄ + Reasoning Mode ‚ö° + –ö–Ω–æ–ø–æ—á–Ω–æ–µ –ú–µ–Ω—é üá∫üá¶

