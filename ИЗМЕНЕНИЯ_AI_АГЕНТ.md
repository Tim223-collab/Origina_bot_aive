# ๐ ะะทะผะตะฝะตะฝะธั: AI ะะณะตะฝั AIVE

## ๐ฏ ะงัะพ ะดะพะฑะฐะฒะปะตะฝะพ

AIVE ะฟัะตะฒัะฐัะธะปัั ะฒ **ะฟัะพะฐะบัะธะฒะฝะพะณะพ AI ะฐะณะตะฝัะฐ**!

ะขะตะฟะตัั ะฑะพั:
- ๐ค ะกะฐะผ ะธะฝะธัะธะธััะตั ะดะตะนััะฒะธั
- ๐ก ะัะตะดะปะฐะณะฐะตั ะฟะพะผะพัั
- ๐ ะัะธััะปะฐะตั ัััะตะฝะฝะธะต ัะฒะพะดะบะธ
- ๐ ะะตะปะฐะตั ะฒะตัะตัะฝะธะต ะพััะตัั
- ๐ ะฃะผะฝะพ ะฝะฐะฟะพะผะธะฝะฐะตั
- ๐ ะะพะฝะธัะพัะธั ะทะฐะดะฐัะธ

## ๐ ะะพะฒัะต ัะฐะนะปั

### 1. `services/agent_service.py`
**ะัะฝะพะฒะฝะพะน ัะตัะฒะธั AI ะฐะณะตะฝัะฐ**

ะกะพะดะตัะถะธั:
- `AIAgentService` โ ะณะปะฐะฒะฝัะน ะบะปะฐัั ะฐะณะตะฝัะฐ
- ะะตัะพะดั ะฟัะพะฐะบัะธะฒะฝัั ะดะตะนััะฒะธะน
- ะะพะณะธะบั ะฟัะธะฝััะธั ัะตัะตะฝะธะน
- ะฃะผะฝัะต ััะฝะบัะธะธ (ะฝะฐะฟะพะผะธะฝะฐะฝะธั, ะทะฐะผะตัะบะธ)

**ะะปััะตะฒัะต ะผะตัะพะดั:**
```python
async def check_and_act(user_id) โ Optional[str]
    # ะัะพะฒะตััะตั ัะธััะฐัะธั ะธ ัะตัะฐะตั ะดะตะนััะฒะพะฒะฐัั ะปะธ

async def morning_brief(user_id) โ Optional[str]
    # ะฃััะตะฝะฝัั ัะฒะพะดะบะฐ (7-9 ัััะฐ)

async def evening_summary(user_id) โ Optional[str]
    # ะะตัะตัะฝะธะน ะพััะตั (20-21 ัะฐั)

async def smart_reminder(user_id, text) โ str
    # ะฃะผะฝะพะต ัะพะทะดะฐะฝะธะต ะฝะฐะฟะพะผะธะฝะฐะฝะธั

async def auto_categorize_note(user_id, content) โ str
    # ะะฒัะพะผะฐัะธัะตัะบะธะต ัะตะณะธ ะดะปั ะทะฐะผะตัะพะบ

async def proactive_help(user_id, user_message) โ Optional[str]
    # ะัะพะฐะบัะธะฒะฝะฐั ะฟะพะผะพัั ะฒ ะดะธะฐะปะพะณะต
```

### 2. `handlers/agent_handler.py`
**ะะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด ะฐะณะตะฝัะฐ**

ะกะพะดะตัะถะธั:
- `AgentHandler` โ ะพะฑัะฐะฑะพััะธะบ ะบะพะผะฐะฝะด
- ะะพะผะฐะฝะดั ัะฟัะฐะฒะปะตะฝะธั ะฐะณะตะฝัะพะผ
- ะฃะผะฝัะต ะบะพะผะฐะฝะดั

**ะะพะผะฐะฝะดั:**
```python
/agent_start โ ะะบะปััะธัั ะฐะณะตะฝัะฐ
/agent_stop โ ะัะบะปััะธัั ะฐะณะตะฝัะฐ
/agent_status โ ะกัะฐััั ะฐะณะตะฝัะฐ
/agent_help โ ะกะฟัะฐะฒะบะฐ

/smart_remind [ัะตะบัั] โ ะฃะผะฝะพะต ะฝะฐะฟะพะผะธะฝะฐะฝะธะต
/smart_note [ัะตะบัั] โ ะฃะผะฝะฐั ะทะฐะผะตัะบะฐ
```

### 3. ะะพะบัะผะตะฝัะฐัะธั

- **`AI_AGENT.md`** โ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฐะณะตะฝัะฐ
  - ะะพะทะผะพะถะฝะพััะธ
  - ะัะธะผะตัั ัะฐะฑะพัั
  - ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ
  - FAQ

- **`ะะซะกะขะะซะ_ะกะขะะะข_ะะะะะข.md`** โ ะะฝััััะบัะธั ะฑััััะพะณะพ ััะฐััะฐ
  - ะะฐะบ ะฒะบะปััะธัั
  - ะะฐะบ ัะตััะธัะพะฒะฐัั
  - ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั

- **`ะะะะะะะะะฏ_AI_ะะะะะข.md`** โ ะญัะพั ัะฐะนะป
  - ะกะฟะธัะพะบ ะธะทะผะตะฝะตะฝะธะน
  - ะะพะฒัะต ัะฐะนะปั
  - ะะฝัะตะณัะฐัะธั

## ๐ง ะะทะผะตะฝัะฝะฝัะต ัะฐะนะปั

### 1. `main.py`

**ะะพะฑะฐะฒะปะตะฝั ะธะผะฟะพััั:**
```python
from services.agent_service import AIAgentService
from services.function_tools import FunctionExecutor
from handlers.agent_handler import AgentHandler
```

**ะะพะฑะฐะฒะปะตะฝะฐ ะธะฝะธัะธะฐะปะธะทะฐัะธั:**
```python
# Function executor ะดะปั ะฐะณะตะฝัะฐ
self.function_executor = FunctionExecutor(
    db=self.db,
    memory_service=self.memory,
    extras_service=self.extras,
    parser_service=self.parser
)

# AI ะะณะตะฝั
self.agent = AIAgentService(self.db, self.ai, self.function_executor)

# ะะฑัะฐะฑะพััะธะบ ะฐะณะตะฝัะฐ
self.agent_handler = AgentHandler(self.agent)
```

**ะะฐัะตะณะธัััะธัะพะฒะฐะฝั ะบะพะผะฐะฝะดั:**
```python
# AI ะะณะตะฝั
self.app.add_handler(CommandHandler("agent_start", self.agent_handler.start_agent_command))
self.app.add_handler(CommandHandler("agent_stop", self.agent_handler.stop_agent_command))
self.app.add_handler(CommandHandler("agent_status", self.agent_handler.agent_status_command))
self.app.add_handler(CommandHandler("agent_help", self.agent_handler.agent_help_command))
self.app.add_handler(CommandHandler("smart_remind", self.agent_handler.smart_reminder))
self.app.add_handler(CommandHandler("smart_note", self.agent_handler.smart_note))
```

**ะะพะฑะฐะฒะปะตะฝะฐ ะฟะตัะธะพะดะธัะตัะบะฐั ะทะฐะดะฐัะฐ:**
```python
# ะะพะฑะฐะฒะปัะตะผ ะทะฐะดะฐัั ะฟัะพะฒะตัะบะธ AI ะฐะณะตะฝัะฐ
job_queue.run_repeating(
    self.check_agent,
    interval=3600,  # ะะฐะถะดัะน ัะฐั
    first=300  # ะะตัะฒะฐั ะฟัะพะฒะตัะบะฐ ัะตัะตะท 5 ะผะธะฝัั
)
```

**ะะพะฑะฐะฒะปะตะฝ ะผะตัะพะด ะฟัะพะฒะตัะบะธ:**
```python
async def check_agent(self, context: ContextTypes.DEFAULT_TYPE):
    """ะัะพะฒะตััะตั ะฝัะถะฝั ะปะธ ะฟัะพะฐะบัะธะฒะฝัะต ะดะตะนััะฒะธั ะพั AI ะฐะณะตะฝัะฐ"""
    try:
        for user_id in config.ALLOWED_USER_IDS:
            message = await self.agent.check_and_act(user_id)
            
            if message:
                await context.bot.send_message(
                    chat_id=user_id,
                    text=message,
                    parse_mode='Markdown'
                )
    except Exception as e:
        logger.error(f"โ ะัะธะฑะบะฐ ะฟัะพะฒะตัะบะธ AI ะฐะณะตะฝัะฐ: {e}")
```

## ๐ฌ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         TelegramBot (main.py)           โ
โ                                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ  AIAgentService                โ    โ
โ  โ  โข check_and_act()             โ    โ
โ  โ  โข morning_brief()             โ    โ
โ  โ  โข evening_summary()           โ    โ
โ  โ  โข smart_reminder()            โ    โ
โ  โ  โข proactive_help()            โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ              โ                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ  FunctionExecutor              โ    โ
โ  โ  โข execute_function()          โ    โ
โ  โ  โข create_reminder()           โ    โ
โ  โ  โข create_note()               โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ              โ                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ  AIService (DeepSeek)          โ    โ
โ  โ  โข ะัะธะฝััะธะต ัะตัะตะฝะธะน            โ    โ
โ  โ  โข ะะฝะฐะปะธะท ะบะพะฝัะตะบััะฐ            โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
    ะะพะปัะทะพะฒะฐัะตะปั
```

### ะะพะณะธะบะฐ ัะฐะฑะพัั

1. **ะะตัะธะพะดะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ (ะบะฐะถะดัะน ัะฐั)**
   ```python
   check_agent() ะฒัะทัะฒะฐะตััั ะบะฐะถะดัะน ัะฐั
        โ
   agent.check_and_act(user_id)
        โ
   ะกะพะฑะธัะฐะตั ะบะพะฝัะตะบัั:
   - ะะฐะฟะพะผะธะฝะฐะฝะธั
   - ะัะตะผั ัััะพะบ
   - ะะบัะธะฒะฝะพััั
        โ
   DeepSeek ะฟัะธะฝะธะผะฐะตั ัะตัะตะฝะธะต:
   - ะัะถะฝะพ ะปะธ ััะพ-ัะพ ัะดะตะปะฐัั?
   - ะงัะพ ัะบะฐะทะฐัั?
        โ
   ะัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั
   ```

2. **ะฃะผะฝัะต ััะฝะบัะธะธ**
   ```python
   /smart_remind ัะตัะตะท ัะฐั ะฟะพะทะฒะพะฝะธัั
        โ
   agent.smart_reminder()
        โ
   DeepSeek ะธะทะฒะปะตะบะฐะตั ะฒัะตะผั: 60 ะผะธะฝัั
        โ
   function_executor.create_reminder()
        โ
   โ ะกะพะทะดะฐะฝะพ ะฝะฐะฟะพะผะธะฝะฐะฝะธะต
   ```

3. **ะัะพะฐะบัะธะฒะฝะพััั ะฒ ะดะธะฐะปะพะณะต**
   ```python
   ะะพะปัะทะพะฒะฐัะตะปั: "ะผะฝะต ะฝัะถะฝะพ ะฟะพะทะฒะพะฝะธัั"
        โ
   agent.proactive_help()
        โ
   ะะฟัะตะดะตะปัะตั: ััะพ ะทะฐะดะฐัะฐ
        โ
   ๐ก "ะฅะพัะตัั ั ัะพะทะดะฐะผ ะฝะฐะฟะพะผะธะฝะฐะฝะธะต?"
   ```

## ๐ ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ

### 1. ะัะพะฐะบัะธะฒะฝัะต ัะพะพะฑัะตะฝะธั

**ะฃััะตะฝะฝะธะต ัะฒะพะดะบะธ (7-9 ัััะฐ):**
```
๐ ะะพะฑัะพะต ัััะพ! AIVE ะฝะฐ ัะฒัะทะธ.

๐ ะฃ ัะตะฑั 3 ะฝะฐะฟะพะผะธะฝะฐะฝะธั ะฝะฐ ัะตะณะพะดะฝั:
1. ะัััะตัะฐ (14:00)
2. ะะฒะพะฝะพะบ (16:00)
3. ะัะพะฒะตัะธัั ะฟะพััั (18:00)

๐ช ะฅะพัะพัะตะณะพ ะดะฝั!
```

**ะะตัะตัะฝะธะต ะพััะตัั (20-21 ัะฐั):**
```
๐ ะะพะฑััะน ะฒะตัะตั!

๐ ะกะฒะพะดะบะฐ ะทะฐ ะดะตะฝั:
โข 15 ัะพะพะฑัะตะฝะธะน
โข 3 ะทะฐะดะฐัะธ
โข 2 ะทะฐะผะตัะบะธ

๐ ะัะปะธัะฝัะน ะดะตะฝั!
```

### 2. ะฃะผะฝัะต ะบะพะผะฐะฝะดั

**ะฃะผะฝัะต ะฝะฐะฟะพะผะธะฝะฐะฝะธั:**
```
/smart_remind ัะตัะตะท ัะฐั ะฟะพะทะฒะพะฝะธัั
    โ ะะณะตะฝั ะพะฟัะตะดะตะปัะตั: 60 ะผะธะฝัั
    โ โ ะกะพะทะดะฐะฝะพ ะฝะฐ 15:00

/smart_remind ะทะฐะฒััะฐ ัััะพะผ ะฒัััะตัะฐ
    โ ะะณะตะฝั ะพะฟัะตะดะตะปัะตั: 720 ะผะธะฝัั (ะฝะฐ 8:00 ะทะฐะฒััะฐ)
    โ โ ะกะพะทะดะฐะฝะพ ะฝะฐ ะทะฐะฒััะฐ 08:00
```

**ะฃะผะฝัะต ะทะฐะผะตัะบะธ:**
```
/smart_note ะัะฟะธัั ะผะพะปะพะบะพ ะธ ัะปะตะฑ
    โ ะะณะตะฝั ะดะพะฑะฐะฒะปัะตั ัะตะณะธ: ะฟะพะบัะฟะบะธ, ะตะดะฐ
    โ โ ะะฐะผะตัะบะฐ ัะพะทะดะฐะฝะฐ ั ัะตะณะฐะผะธ
```

### 3. ะัะพะฐะบัะธะฒะฝะฐั ะฟะพะผะพัั

ะะณะตะฝั ัะตะฐะณะธััะตั ะฝะฐ ะฟะฐััะตัะฝั ะฒ ัะพะพะฑัะตะฝะธัั:

```python
"ะฝัะถะฝะพ", "ะฝะฐะดะพ", "ะดะพะปะถะตะฝ" โ ะัะตะดะปะฐะณะฐะตั ะฝะฐะฟะพะผะธะฝะฐะฝะธะต
"ะฒะฐะถะฝะพ", "ะทะฐะฟะพะผะฝะธ" โ ะัะตะดะปะฐะณะฐะตั ะทะฐะผะตัะบั
"ะฟะพะณะพะดะฐ" โ ะัะตะดะปะฐะณะฐะตั ะฟัะพะฒะตัะธัั ะฟะพะณะพะดั
```

## ๐ ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะงะฐััะพัะฐ ะฟัะพะฒะตัะพะบ

- **ะะตัะธะพะดะธัะตัะบะฐั**: ะบะฐะถะดัะน ัะฐั (3600 ัะตะบ)
- **ะฃััะตะฝะฝัั ัะฒะพะดะบะฐ**: 7-9 ัััะฐ
- **ะะตัะตัะฝะธะน ะพััะตั**: 20-21 ัะฐั
- **ะะตัะฒะฐั ะฟัะพะฒะตัะบะฐ**: ัะตัะตะท 5 ะผะธะฝัั ะฟะพัะปะต ะทะฐะฟััะบะฐ

### AI ัะตัะตะฝะธั

ะะณะตะฝั ะธัะฟะพะปัะทัะตั DeepSeek ะดะปั:
1. ะะฟัะตะดะตะปะตะฝะธั ะฝัะถะฝั ะปะธ ะดะตะนััะฒะธั
2. ะะทะฒะปะตัะตะฝะธั ะฒัะตะผะตะฝะธ ะธะท ัะตะบััะฐ
3. ะะพะดะฑะพัะฐ ัะตะณะพะฒ ะดะปั ะทะฐะผะตัะพะบ
4. ะะฝะฐะปะธะทะฐ ะบะพะฝัะตะบััะฐ

### ะกัะพะธะผะพััั

- **ะัะพะฐะบัะธะฒะฝะฐั ะฟัะพะฒะตัะบะฐ**: ~$0.0001 (ัะฐะท ะฒ ัะฐั)
- **ะฃะผะฝะพะต ะฝะฐะฟะพะผะธะฝะฐะฝะธะต**: ~$0.0001
- **ะฃะผะฝะฐั ะทะฐะผะตัะบะฐ**: ~$0.0002

**ะัะพะณะพ ะฒ ะดะตะฝั**: ~$0.003 (ะตัะปะธ ะฐะณะตะฝั ัะฐะฑะพัะฐะตั 24 ัะฐัะฐ)
**ะัะพะณะพ ะฒ ะผะตััั**: ~$0.09

## ๐ฏ ะงัะพ ะผะพะถะฝะพ ะฟัะพัะตััะธัะพะฒะฐัั

### 1. ะะบะปััะตะฝะธะต/ะฒัะบะปััะตะฝะธะต
```
/agent_start โ ะะบะปััะธัั
/agent_status โ ะัะพะฒะตัะธัั ััะฐััั
/agent_stop โ ะัะบะปััะธัั
```

### 2. ะฃะผะฝัะต ะบะพะผะฐะฝะดั
```
/smart_remind ัะตัะตะท 5 ะผะธะฝัั ัะตัั
/smart_note ะขะตััะพะฒะฐั ะทะฐะผะตัะบะฐ ะดะปั ะฟัะพะฒะตัะบะธ
```

### 3. ะัะพะฐะบัะธะฒะฝะพััั
```
ะะฐะฟะธัะธ: "ะผะฝะต ะฝัะถะฝะพ ะฟะพะทะฒะพะฝะธัั"
ะะณะตะฝั ะดะพะปะถะตะฝ ะฟัะตะดะปะพะถะธัั ัะพะทะดะฐัั ะฝะฐะฟะพะผะธะฝะฐะฝะธะต
```

### 4. ะะถะธะดะฐะฝะธะต
ะะบะปััะธ ะฐะณะตะฝัะฐ ะธ ะฟะพะดะพะถะดะธ:
- 5 ะผะธะฝัั โ ะฟะตัะฒะฐั ะฟัะพะฒะตัะบะฐ
- ะงะฐั โ ัะปะตะดัััะฐั ะฟัะพะฒะตัะบะฐ
- ะฃััะพะผ (7-9) โ ัััะตะฝะฝัั ัะฒะพะดะบะฐ
- ะะตัะตัะพะผ (20-21) โ ะฒะตัะตัะฝะธะน ะพััะตั

## โ ะงะตะบ-ะปะธัั ะธะทะผะตะฝะตะฝะธะน

- [x] `services/agent_service.py` ัะพะทะดะฐะฝ
- [x] `handlers/agent_handler.py` ัะพะทะดะฐะฝ
- [x] `main.py` ะพะฑะฝะพะฒะปะตะฝ (ะธะผะฟะพััั, ะธะฝะธัะธะฐะปะธะทะฐัะธั, ะบะพะผะฐะฝะดั)
- [x] ะะตัะธะพะดะธัะตัะบะฐั ะทะฐะดะฐัะฐ ะดะพะฑะฐะฒะปะตะฝะฐ
- [x] ะะตัะพะด `check_agent()` ะดะพะฑะฐะฒะปะตะฝ
- [x] ะะพะบัะผะตะฝัะฐัะธั ัะพะทะดะฐะฝะฐ (`AI_AGENT.md`)
- [x] ะัััััะน ััะฐัั ัะพะทะดะฐะฝ (`ะะซะกะขะะซะ_ะกะขะะะข_ะะะะะข.md`)
- [x] ะกะฟะธัะพะบ ะธะทะผะตะฝะตะฝะธะน ัะพะทะดะฐะฝ (`ะะะะะะะะะฏ_AI_ะะะะะข.md`)

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ

### ะะพัะปะต ัะตััะธัะพะฒะฐะฝะธั ะฐะณะตะฝัะฐ:

1. **ะะตะฝะตัะฐัะธั ะธะทะพะฑัะฐะถะตะฝะธะน**
   - DALL-E 3 / Stable Diffusion
   - ะกะพะทะดะฐะฝะธะต ะบะฐััะธะฝะพะบ ะฟะพ ะพะฟะธัะฐะฝะธั

2. **ะะฐััะธัะตะฝะฝะฐั ะฟัะพะฐะบัะธะฒะฝะพััั**
   - ะะฒัะพะผะฐัะธัะตัะบะพะต ะธะทะฒะปะตัะตะฝะธะต ะทะฐะดะฐั
   - ะัะปััะธัะฐะณะพะฒัะต ััะตะฝะฐัะธะธ
   - ะะฑััะตะฝะธะต ะฝะฐ ะฟะฐััะตัะฝะฐั

3. **ะะฝัะตะณัะฐัะธะธ**
   - ะะฐะปะตะฝะดะฐัั
   - Email
   - ะััะณะธะต ัะตัะฒะธัั

## ๐ก ะัะพะณ

**AIVE** ัะตะฟะตัั ะฟะพะปะฝะพัะตะฝะฝัะน **AI ะะณะตะฝั**!

```
/agent_start
```

ะ ะฝะฐัะปะฐะถะดะฐะนัั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะฟะพะผะพััั! ๐คโจ

---

**ะะพะบัะผะตะฝัะฐัะธั:** `AI_AGENT.md`  
**ะัััััะน ััะฐัั:** `ะะซะกะขะะซะ_ะกะขะะะข_ะะะะะข.md`  
**ะะตััะธั:** 1.0  
**ะกัะฐััั:** โ ะะพัะพะฒ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

