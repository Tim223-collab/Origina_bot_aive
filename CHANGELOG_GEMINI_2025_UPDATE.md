# üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Gemini SDK –∏ –º–æ–¥–µ–ª–∏ (2025)

## üìÖ –î–∞—Ç–∞: 29 –æ–∫—Ç—è–±—Ä—è 2025

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

Google **—É–¥–∞–ª–∏–ª —Å—Ç–∞—Ä—É—é –º–æ–¥–µ–ª—å `gemini-pro-vision`** –∏ —Å—Ç–∞—Ä—ã–π SDK –ø–µ—Ä–µ—Å—Ç–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å:
- ‚ùå `gemini-pro-vision` ‚Üí 404 NOT_FOUND
- ‚ùå `gemini-1.5-flash` —Å–æ —Å—Ç–∞—Ä—ã–º SDK ‚Üí 404 NOT_FOUND
- ‚ùå `google-generativeai` SDK —É—Å—Ç–∞—Ä–µ–ª

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω `VisionService` –Ω–∞ **–Ω–æ–≤—ã–π SDK** –ø–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

### 1. **–ù–æ–≤—ã–π SDK**
```python
# –ë–´–õ–û (—Å—Ç–∞—Ä—ã–π SDK):
import google.generativeai as genai
genai.configure(api_key=api_key)
model = genai.GenerativeModel('gemini-pro-vision')

# –°–¢–ê–õ–û (–Ω–æ–≤—ã–π SDK):
from google import genai
client = genai.Client(api_key=api_key)
```

### 2. **–ù–æ–≤–∞—è –º–æ–¥–µ–ª—å**
- **gemini-2.5-flash** - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å 2025 –≥–æ–¥–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç vision (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- –ë—ã—Å—Ç—Ä–∞—è –∏ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è

### 3. **–ù–æ–≤—ã–π API**
```python
# –ë–´–õ–û:
model.generate_content([prompt, image])

# –°–¢–ê–õ–û:
client.models.generate_content(
    model="gemini-2.5-flash",
    contents={
        "parts": [
            {"text": prompt},
            {
                "inline_data": {
                    "mime_type": "image/jpeg",
                    "data": image_base64
                }
            }
        ]
    }
)
```

---

## üìÇ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### `services/vision_service.py`
- ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω –Ω–∞ –Ω–æ–≤—ã–π SDK `from google import genai`
- ‚úÖ –ú–æ–¥–µ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ `gemini-2.5-flash`
- ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `client.models.generate_content()`
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ base64 –≤ `inline_data`

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `analyze_image()` - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `ocr_image()` - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (OCR)
- `analyze_code()` - –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ
- `analyze_chart()` - –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤/–¥–∏–∞–≥—Ä–∞–º–º

### `requirements.txt`
```diff
- google-generativeai>=0.8.0
+ google-genai>=1.0.0
```

---

## üîó –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Google:
https://ai.google.dev/gemini-api/docs/quickstart?hl=ru

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```bash
pip install -U google-genai
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:
```bash
python main.py
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ –±–æ—Ç—É —Å –∫–æ–º–∞–Ω–¥–∞–º–∏:
- `/image` - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `/ocr` - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- `/code` - –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ (—Å–∫—Ä–∏–Ω—à–æ—Ç)
- `/chart` - –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **–Ω–æ–≤–æ–π –º–æ–¥–µ–ª—å—é**  
‚úÖ **gemini-2.5-flash** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ **Google Gemini API 2025**  
‚úÖ SDK –æ–±–Ω–æ–≤–ª—ë–Ω –ø–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏  
‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã  

---

## üí° –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|----------|------|-------|
| SDK | `google.generativeai` | `google-genai` |
| –ú–æ–¥–µ–ª—å | `gemini-pro-vision` ‚ùå | `gemini-2.5-flash` ‚úÖ |
| API | `model.generate_content()` | `client.models.generate_content()` |
| –§–æ—Ä–º–∞—Ç | PIL Image | base64 –≤ inline_data |
| –í–µ—Ä—Å–∏—è | 0.8.0 | 1.0.0+ |

---

## üîß –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ Python 3.9+
- ‚úÖ –í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã (–±–µ–∑ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ ThreadPoolExecutor

