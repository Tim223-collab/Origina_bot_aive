# üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞–º—è—Ç—å –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## üìö –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 3 —É—Ä–æ–≤–Ω—è —Ö—Ä–∞–Ω–µ–Ω–∏—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         1. –ö–†–ê–¢–ö–û–°–†–û–ß–ù–ê–Ø –ü–ê–ú–Ø–¢–¨             ‚îÇ
‚îÇ    (conversations - –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤)       ‚îÇ
‚îÇ         –•—Ä–∞–Ω–∏—Ç—Å—è: 20 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         2. –î–û–õ–ì–û–°–†–û–ß–ù–ê–Ø –ü–ê–ú–Ø–¢–¨              ‚îÇ
‚îÇ    (long_term_memory - –≤–∞–∂–Ω—ã–µ —Ñ–∞–∫—Ç—ã)        ‚îÇ
‚îÇ         –•—Ä–∞–Ω–∏—Ç—Å—è: –Ω–∞–≤—Å–µ–≥–¥–∞                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         3. –ö–û–ù–¢–ï–ö–°–¢ –î–õ–Ø –ò–ò                  ‚îÇ
‚îÇ  (–∫–æ–º–±–∏–Ω–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ + –∏—Å—Ç–æ—Ä–∏—è + –ø—Ä–æ–º–ø—Ç)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite)

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:
```
data/bot.db
```

### 6 —Ç–∞–±–ª–∏—Ü:

#### 1. **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
```sql
user_id (PRIMARY KEY)    - ID –≤ Telegram
username                 - @username
first_name              - –ò–º—è
last_name               - –§–∞–º–∏–ª–∏—è
created_at              - –ö–æ–≥–¥–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
last_active             - –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
settings                - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (JSON)
```

#### 2. **conversations** - –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ ‚≠ê
```sql
id (AUTOINCREMENT)      - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–æ–æ–±—â–µ–Ω–∏—è
user_id                 - –ö—Ç–æ –Ω–∞–ø–∏—Å–∞–ª
role                    - "user" –∏–ª–∏ "assistant"
content                 - –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
timestamp               - –ö–æ–≥–¥–∞ –Ω–∞–ø–∏—Å–∞–Ω–æ
```

**–ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è:**
- –í—Å–µ —Ç–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è (role = "user")
- –í—Å–µ –æ—Ç–≤–µ—Ç—ã –±–æ—Ç–∞ (role = "assistant")
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (–ø–æ id)

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
```python
# –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
messages = await db.get_recent_messages(user_id, limit=20)

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
[
    {"role": "user", "content": "–ü—Ä–∏–≤–µ—Ç!", "timestamp": "..."},
    {"role": "assistant", "content": "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?", "timestamp": "..."},
    {"role": "user", "content": "–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ Python", "timestamp": "..."},
    ...
]
```

#### 3. **long_term_memory** - –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å ‚≠ê‚≠ê‚≠ê
```sql
id (AUTOINCREMENT)      - ID –∑–∞–ø–∏—Å–∏
user_id                 - –ß—å—è –ø–∞–º—è—Ç—å
category                - –ö–∞—Ç–µ–≥–æ—Ä–∏—è (personal, work, preferences, learning)
key                     - –ö–ª—é—á (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–∫—Ç–∞)
value                   - –ó–Ω–∞—á–µ–Ω–∏–µ
created_at              - –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–Ω–æ
updated_at              - –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–æ
UNIQUE(user_id, category, key)  - –û–¥–∏–Ω —Ñ–∞–∫—Ç = –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å
```

**–ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö:**
```
user_id | category    | key           | value
--------|-------------|---------------|------------------
123456  | personal    | –¥–µ–Ω—å_—Ä–æ–∂–¥–µ–Ω–∏—è | 15.05.1990
123456  | personal    | –≥–æ—Ä–æ–¥         | –ö–∏—ó–≤
123456  | work        | –ø—Ä–æ–µ–∫—Ç        | telegram-bot
123456  | work        | –¥–µ–¥–ª–∞–π–Ω       | 31.12.2025
123456  | preferences | —è–∑—ã–∫          | Python
123456  | preferences | –∫–æ—Ñ–µ          | —á–µ—Ä–Ω—ã–π –±–µ–∑ —Å–∞—Ö–∞—Ä–∞
123456  | learning    | —Ç–µ–º–∞          | Docker
```

**–ö–æ–º–∞–Ω–¥—ã:**
```
/remember personal –¥–µ–Ω—å_—Ä–æ–∂–¥–µ–Ω–∏—è 15.05.1990
‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î

/recall
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å—é –ø–∞–º—è—Ç—å

/recall personal
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—é personal

/forget personal –¥–µ–Ω—å_—Ä–æ–∂–¥–µ–Ω–∏—è
‚Üí –£–¥–∞–ª—è–µ—Ç –∏–∑ –ø–∞–º—è—Ç–∏
```

#### 4. **notes** - –∑–∞–º–µ—Ç–∫–∏
```sql
id (AUTOINCREMENT)      - ID –∑–∞–º–µ—Ç–∫–∏
user_id                 - –ß—å—è –∑–∞–º–µ—Ç–∫–∞
title                   - –ó–∞–≥–æ–ª–æ–≤–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
content                 - –¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏
tags                    - –¢–µ–≥–∏ (JSON –º–∞—Å—Å–∏–≤)
created_at              - –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–Ω–∞
updated_at              - –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
```

#### 5. **work_stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
```sql
id (AUTOINCREMENT)      - ID –∑–∞–ø–∏—Å–∏
user_id                 - –ß—å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
date                    - –î–∞—Ç–∞
total_records           - –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π
total_sfs               - –£—Å–ø–µ—à–Ω—ã—Ö (SFS)
total_sch               - –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö (SCH)
workers_data            - –î–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ (JSON)
parsed_at               - –ö–æ–≥–¥–∞ —Å–ø–∞—Ä—Å–µ–Ω–æ
```

#### 6. **reminders** - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
```sql
id (AUTOINCREMENT)      - ID –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
user_id                 - –ö–æ–º—É
text                    - –¢–µ–∫—Å—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
remind_at               - –ö–æ–≥–¥–∞ –Ω–∞–ø–æ–º–Ω–∏—Ç—å
created_at              - –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–Ω–æ
completed               - –í—ã–ø–æ–ª–Ω–µ–Ω–æ? (0/1)
```

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å –ø–∞–º—è—Ç—å—é

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–∏:

```
1. –¢–´: "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"
   ‚Üì
2. –°–û–•–†–ê–ù–ï–ù–ò–ï: db.add_message(user_id, "user", "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?")
   ‚Üì
3. –ó–ê–ì–†–£–ó–ö–ê –ö–û–ù–¢–ï–ö–°–¢–ê:
   - –ü–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ conversations
   - –í—Å—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å –∏–∑ long_term_memory
   ‚Üì
4. –§–û–†–ú–ò–†–û–í–ê–ù–ò–ï –ü–†–û–ú–ü–¢–ê:
   system_prompt = """
   –¢—ã –ª–∏—á–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫...
   
   –ß—Ç–æ —è –∑–Ω–∞—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:
   Personal: –¥–µ–Ω—å_—Ä–æ–∂–¥–µ–Ω–∏—è - 15.05.1990, –≥–æ—Ä–æ–¥ - –ö–∏—ó–≤
   Work: –ø—Ä–æ–µ–∫—Ç - telegram-bot, –¥–µ–¥–ª–∞–π–Ω - 31.12.2025
   Preferences: —è–∑—ã–∫ - Python, –∫–æ—Ñ–µ - —á–µ—Ä–Ω—ã–π –±–µ–∑ —Å–∞—Ö–∞—Ä–∞
   """
   ‚Üì
5. –û–¢–ü–†–ê–í–ö–ê –ö DEEPSEEK API:
   messages = [
       {"role": "system", "content": system_prompt},
       {"role": "user", "content": "–ü—Ä–µ–¥—ã–¥—É—â–µ–µ1"},
       {"role": "assistant", "content": "–û—Ç–≤–µ—Ç1"},
       {"role": "user", "content": "–ü—Ä–µ–¥—ã–¥—É—â–µ–µ2"},
       {"role": "assistant", "content": "–û—Ç–≤–µ—Ç2"},
       {"role": "user", "content": "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"}
   ]
   ‚Üì
6. –ü–û–õ–£–ß–ï–ù–ò–ï –û–¢–í–ï–¢–ê: "–ü—Ä–∏–≤–µ—Ç! –û—Ç–ª–∏—á–Ω–æ, —Å–ø–∞—Å–∏–±–æ!"
   ‚Üì
7. –°–û–•–†–ê–ù–ï–ù–ò–ï –û–¢–í–ï–¢–ê: db.add_message(user_id, "assistant", "–ü—Ä–∏–≤–µ—Ç! –û—Ç–ª–∏—á–Ω–æ, —Å–ø–∞—Å–∏–±–æ!")
   ‚Üì
8. –û–¢–ü–†–ê–í–ö–ê –¢–ï–ë–ï –í TELEGRAM
```

---

## üß† MemoryService - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

#### 1. **get_context_for_ai()** - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```python
async def get_context_for_ai(user_id):
    # –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ —Ñ–∞–∫—Ç—ã –∏–∑ long_term_memory
    memories = await db.recall(user_id)
    
    # –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    # –§–æ—Ä–º–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
    
    return """
    –ß—Ç–æ —è –∑–Ω–∞—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:
    Personal: –¥–µ–Ω—å_—Ä–æ–∂–¥–µ–Ω–∏—è - 15.05.1990, –≥–æ—Ä–æ–¥ - –ö–∏—ó–≤
    Work: –ø—Ä–æ–µ–∫—Ç - telegram-bot
    Preferences: —è–∑—ã–∫ - Python
    """
```

#### 2. **remember_fact()** - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–∫—Ç
```python
await memory.remember_fact(
    user_id=123456,
    category="personal",
    key="–¥–µ–Ω—å_—Ä–æ–∂–¥–µ–Ω–∏—è",
    value="15.05.1990"
)
```

#### 3. **recall_facts()** - –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–∫—Ç—ã
```python
facts = await memory.recall_facts(user_id, category="personal")

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
[
    {
        "category": "personal",
        "key": "–¥–µ–Ω—å_—Ä–æ–∂–¥–µ–Ω–∏—è",
        "value": "15.05.1990",
        "created_at": "2025-10-26 20:00:00",
        "updated_at": "2025-10-26 20:00:00"
    },
    ...
]
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä 1: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

```
–¢–´: /remember personal –≥–æ—Ä–æ–¥ –ö–∏—ó–≤
–ë–û–¢: ‚úÖ –ó–∞–ø–æ–º–Ω–∏–ª!
     üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: personal
     üîë –ö–ª—é—á: –≥–æ—Ä–æ–¥
     üìù –ó–Ω–∞—á–µ–Ω–∏–µ: –ö–∏—ó–≤

[–í –ë–î —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ:]
INSERT INTO long_term_memory
VALUES (349295048, 'personal', '–≥–æ—Ä–æ–¥', '–ö–∏—ó–≤')

---

–¢–´: –ö–∞–∫–∞—è —É –º–µ–Ω—è –ø–æ–≥–æ–¥–∞?
–ë–û–¢ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–∞–º—è—Ç—å ‚Üí –≤–∏–¥–∏—Ç –≥–æ—Ä–æ–¥: –ö–∏—ó–≤
–ë–û–¢: [–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Ç–≤–æ–π –≥–æ—Ä–æ–¥]
     –°–µ–π—á–∞—Å –ø—Ä–æ–≤–µ—Ä—é –ø–æ–≥–æ–¥—É –≤ –ö–∏–µ–≤–µ...
```

### –ü—Ä–∏–º–µ—Ä 2: –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

```
–¢–´: –†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ Python
–ë–û–¢: Python - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è...

[–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ conversations]

–¢–´: –ê –∫–∞–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏?
–ë–û–¢ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π
    ‚Üí –≤–∏–¥–∏—Ç —á—Ç–æ –≥–æ–≤–æ—Ä–∏–ª–∏ –ø—Ä–æ Python
    ‚Üí –æ—Ç–≤–µ—á–∞–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
–ë–û–¢: –î–ª—è Python –µ—Å—Ç—å –º–Ω–æ–≥–æ –±–∏–±–ª–∏–æ—Ç–µ–∫...
```

### –ü—Ä–∏–º–µ—Ä 3: –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥

```
–¢–´: –Ø —Ä–∞–±–æ—Ç–∞—é –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º telegram-bot —Å –¥–µ–¥–ª–∞–π–Ω–æ–º 31 –¥–µ–∫–∞–±—Ä—è

–ë–û–¢: –û—Ç–ª–∏—á–Ω–æ! –£—Å–ø–µ—Ö–æ–≤ —Å –ø—Ä–æ–µ–∫—Ç–æ–º!

[–¢—ã –º–æ–∂–µ—à—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é:]
–¢–´: /remember work –ø—Ä–æ–µ–∫—Ç telegram-bot
–¢–´: /remember work –¥–µ–¥–ª–∞–π–Ω 31.12.2025

---

[–ß–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é:]
–¢–´: –ö–∞–∫ —Ç–∞–º —Å –º–æ–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º?
–ë–û–¢ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–∞–º—è—Ç—å ‚Üí –≤–∏–¥–∏—Ç:
     - work.–ø—Ä–æ–µ–∫—Ç = telegram-bot
     - work.–¥–µ–¥–ª–∞–π–Ω = 31.12.2025
–ë–û–¢: –ö–∞–∫ –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç—Å—è telegram-bot? 
     –î–æ –¥–µ–¥–ª–∞–π–Ω–∞ 31 –¥–µ–∫–∞–±—Ä—è –æ—Å—Ç–∞–ª–æ—Å—å 2 –º–µ—Å—è—Ü–∞!
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### ‚úÖ –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å (conversations):
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å—ë
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 20 —Å–æ–æ–±—â–µ–Ω–∏–π
- –ò–ò –ø–æ–º–Ω–∏—Ç –æ —á–µ–º –≥–æ–≤–æ—Ä–∏–ª–∏ –Ω–µ–¥–∞–≤–Ω–æ

### ‚úÖ –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å (long_term_memory):
- –†—É—á–Ω–∞—è –∏–ª–∏ –∞–≤—Ç–æ - —Å–æ—Ö—Ä–∞–Ω—è–µ—à—å –≤–∞–∂–Ω–æ–µ
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ + –∫–ª—é—á–∏)
- –ò–ò –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—Ç –≤–∞–∂–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ —Ç–µ–±–µ

### ‚úÖ –ö–æ–º–±–∏–Ω–∞—Ü–∏—è:
- –ò–ò –ø–æ–º–Ω–∏—Ç –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ò –≤–∞–∂–Ω—ã–µ —Ñ–∞–∫—Ç—ã
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- –ú–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é (/clear) –Ω–æ –ø–∞–º—è—Ç—å –æ—Å—Ç–∞–µ—Ç—Å—è
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω–∞—è - –≤—Å—ë –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:
```python
# –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ
async with aiosqlite.connect(db_path) as db:
    await db.execute("INSERT ...")
    await db.commit()
```

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
- –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤ —Å–≤–æ–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π commit
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### –ò–Ω–¥–µ–∫—Å—ã:
- PRIMARY KEY –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è
- UNIQUE(user_id, category, key) - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫

### JSON —Ö—Ä–∞–Ω–µ–Ω–∏–µ:
```python
# tags –≤ notes —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ JSON
tags = ["—Ä–∞–±–æ—Ç–∞", "–≤–∞–∂–Ω–æ–µ"]
tags_str = json.dumps(tags)  # '["—Ä–∞–±–æ—Ç–∞", "–≤–∞–∂–Ω–æ–µ"]'

# –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:
tags = json.loads(tags_str)  # ["—Ä–∞–±–æ—Ç–∞", "–≤–∞–∂–Ω–æ–µ"]
```

---

## üìÅ –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è

```
data/
‚îî‚îÄ‚îÄ bot.db          # SQLite —Ñ–∞–π–ª (~100 KB –ø—É—Å—Ç–æ–π)
```

### –ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å:
```bash
# SQLite browser
sqlite3 data/bot.db

# –ó–∞–ø—Ä–æ—Å—ã:
SELECT * FROM long_term_memory;
SELECT * FROM conversations LIMIT 10;
SELECT * FROM users;
```

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### 1. –°–æ—Ö—Ä–∞–Ω—è–π –≤–∞–∂–Ω–æ–µ –≤ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –ø–∞–º—è—Ç—å:
```
/remember personal –∏–Ω—Ç–µ—Ä–µ—Å—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –º—É–∑—ã–∫–∞
/remember work —Ä–æ–ª—å fullstack-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
/remember preferences —Å—Ç–∏–ª—å –º–∏–Ω–∏–º–∞–ª–∏–∑–º
```

### 2. –ò—Å–ø–æ–ª—å–∑—É–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
- `personal` - –ª–∏—á–Ω–æ–µ (–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, –≥–æ—Ä–æ–¥, —É–≤–ª–µ—á–µ–Ω–∏—è)
- `work` - —Ä–∞–±–æ—Ç–∞ (–ø—Ä–æ–µ–∫—Ç, –¥–æ–ª–∂–Ω–æ—Å—Ç—å, –∫–æ–º–∞–Ω–¥–∞)
- `preferences` - –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è (—è–∑—ã–∫, —Ä–µ–¥–∞–∫—Ç–æ—Ä, —Å—Ç–∏–ª—å)
- `learning` - –æ–±—É—á–µ–Ω–∏–µ (—á—Ç–æ –∏–∑—É—á–∞–µ—à—å)

### 3. –û—á–∏—â–∞–π –∏—Å—Ç–æ—Ä–∏—é –Ω–æ –Ω–µ –ø–∞–º—è—Ç—å:
```
/clear          # –û—á–∏—Å—Ç–∏—Ç conversations, –Ω–æ –ø–∞–º—è—Ç—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è
/recall         # –ü–æ–∫–∞–∂–µ—Ç —á—Ç–æ –±–æ—Ç –ø–æ–º–Ω–∏—Ç
```

### 4. –ü—Ä–æ–≤–µ—Ä—è–π —á—Ç–æ –∑–∞–ø–æ–º–Ω–∏–ª–æ—Å—å:
```
/recall         # –í—Å—è –ø–∞–º—è—Ç—å
/recall work    # –¢–æ–ª—å–∫–æ —Ä–∞–±–æ—á–µ–µ
```

---

## üéì –ò—Ç–æ–≥–æ

**–ü–∞–º—è—Ç—å –±–æ—Ç–∞ = –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è:**
1. **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è** (20 —Å–æ–æ–±—â–µ–Ω–∏–π) - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è
2. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è** (—Ñ–∞–∫—Ç—ã –Ω–∞–≤—Å–µ–≥–¥–∞) - —Ä—É—á–Ω–∞—è

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- SQLite —Ñ–∞–π–ª –≤ `data/bot.db`
- 6 —Ç–∞–±–ª–∏—Ü –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ aiosqlite

**–ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±–∞ —É—Ä–æ–≤–Ω—è:**
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- + –í–∞–∂–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ —Ç–µ–±–µ
- = –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** v1.2.0 üá∫üá¶

